(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59f75772"],{"02f4":function(t,e,r){var a=r("4588"),i=r("be13");t.exports=function(t){return function(e,r){var n,o,s=String(i(e)),l=a(r),c=s.length;return l<0||l>=c?t?"":void 0:(n=s.charCodeAt(l),n<55296||n>56319||l+1===c||(o=s.charCodeAt(l+1))<56320||o>57343?t?s.charAt(l):n:t?s.slice(l,l+2):o-56320+(n-55296<<10)+65536)}}},"0390":function(t,e,r){"use strict";var a=r("02f4")(!0);t.exports=function(t,e,r){return e+(r?a(t,e).length:1)}},"0bfb":function(t,e,r){"use strict";var a=r("cb7c");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"214f":function(t,e,r){"use strict";r("b0c5");var a=r("2aba"),i=r("32e9"),n=r("79e5"),o=r("be13"),s=r("2b4c"),l=r("520a"),c=s("species"),u=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();t.exports=function(t,e,r){var d=s(t),p=!n((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),h=p?!n((function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[c]=function(){return r}),r[d](""),!e})):void 0;if(!p||!h||"replace"===t&&!u||"split"===t&&!f){var m=/./[d],v=r(o,d,""[t],(function(t,e,r,a,i){return e.exec===l?p&&!i?{done:!0,value:m.call(e,r,a)}:{done:!0,value:t.call(r,e,a)}:{done:!1}})),g=v[0],b=v[1];a(String.prototype,t,g),i(RegExp.prototype,d,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}}},4917:function(t,e,r){"use strict";var a=r("cb7c"),i=r("9def"),n=r("0390"),o=r("5f1b");r("214f")("match",1,(function(t,e,r,s){return[function(r){var a=t(this),i=void 0==r?void 0:r[e];return void 0!==i?i.call(r,a):new RegExp(r)[e](String(a))},function(t){var e=s(r,t,this);if(e.done)return e.value;var l=a(t),c=String(this);if(!l.global)return o(l,c);var u=l.unicode;l.lastIndex=0;var f,d=[],p=0;while(null!==(f=o(l,c))){var h=String(f[0]);d[p]=h,""===h&&(l.lastIndex=n(c,i(l.lastIndex),u)),p++}return 0===p?null:d}]}))},"520a":function(t,e,r){"use strict";var a=r("0bfb"),i=RegExp.prototype.exec,n=String.prototype.replace,o=i,s="lastIndex",l=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t[s]||0!==e[s]}(),c=void 0!==/()??/.exec("")[1],u=l||c;u&&(o=function(t){var e,r,o,u,f=this;return c&&(r=new RegExp("^"+f.source+"$(?!\\s)",a.call(f))),l&&(e=f[s]),o=i.call(f,t),l&&o&&(f[s]=f.global?o.index+o[0].length:e),c&&o&&o.length>1&&n.call(o[0],r,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)})),o}),t.exports=o},"5f1b":function(t,e,r){"use strict";var a=r("23c6"),i=RegExp.prototype.exec;t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var n=r.call(t,e);if("object"!==typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==a(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"7f6f":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("el-row",{attrs:{gutter:20}},[r("el-col",[r("el-button",{attrs:{type:"info"},on:{click:t.Add}},[t._v("新增團隊成員")])],1),t._v(" "),r("el-col",[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[r("el-form-item",{attrs:{label:"搜尋"}},[r("el-input",{attrs:{placeholder:"職稱 名字..."},model:{value:t.searchMap.word,callback:function(e){t.$set(t.searchMap,"word",e)},expression:"searchMap.word"}})],1),t._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.Search}},[t._v("查詢")])],1)],1)],1)],1),t._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list.slice((t.currpage-1)*t.pagesize,t.currpage*t.pagesize),"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[r("el-table-column",{attrs:{align:"center",label:"#",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.$index+(t.currpage-1)*t.pagesize+1)+"\n      ")]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"center",prop:"position",label:"職稱"}}),t._v(" "),r("el-table-column",{attrs:{prop:"name",label:"名字",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"avatar",label:"照片",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"demo-image__preview"},[r("el-image",{staticStyle:{width:"90px",height:"135px"},attrs:{src:t.staticPath+e.row.avatar,"preview-src-list":[t.staticPath+e.row.avatar]}})],1)]}}])}),t._v(" "),r("el-table-column",{attrs:{"class-name":"status-col",label:"狀態",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-tag",{attrs:{type:t._f("statusFilter")(e.row.status)}},[t._v(t._s(e.row.status))])]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"center",label:"操作",width:"115"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"info",icon:"el-icon-edit",circle:""},on:{click:function(r){return t.Edit(e.row.id)}}}),t._v(" "),r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(r){return t.Delete(e.row.id)}}})]}}])})],1),t._v(" "),r("el-pagination",{attrs:{background:"",layout:"prev, pager, next, sizes, total, jumper",align:"center","page-sizes":[5,10,15,20],"page-size":t.pagesize,total:t.list.length},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}}),t._v(" "),r("el-dialog",{attrs:{title:"團隊管理",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[r("el-form",{ref:"form",attrs:{model:t.form,top:!0,rules:t.rules}},[r("el-form-item",{attrs:{label:"職稱",prop:"position"}},[r("el-input",{attrs:{autocomplete:"off",placeholder:"職稱"},model:{value:t.form.position,callback:function(e){t.$set(t.form,"position",e)},expression:"form.position"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"名字",prop:"name"}},[r("el-input",{attrs:{autocomplete:"off",placeholder:"名字"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"照片",prop:"avatar"}},[r("el-input",{attrs:{autocomplete:"off",disabled:1===t.fileList.length,placeholder:"照片"},model:{value:t.form.avatar,callback:function(e){t.$set(t.form,"avatar",e)},expression:"form.avatar"}}),t._v(" "),r("el-upload",{staticClass:"upload-demo",attrs:{action:t.uploadURL+t.type,name:"upload","on-success":t.handleSuccess,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,limit:1,"file-list":t.fileList,headers:t.headers}},[r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上傳jpg/png文件，大小比例建議為90 x 135")]),t._v(" "),r("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("選取照片")])],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"狀態"}},[r("el-select",{attrs:{placeholder:"狀態"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[r("el-option",{attrs:{label:"發布",value:"published"}}),t._v(" "),r("el-option",{attrs:{label:"草稿",value:"draft"}})],1)],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("\n        取 消\n      ")]),t._v(" "),r("el-button",{directives:[{name:"show",rawName:"v-show",value:"add"===t.mode,expression:"\n          mode === 'add'"}],attrs:{type:"info"},on:{click:t.Insert}},[t._v("\n        確 定\n      ")]),t._v(" "),r("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===t.mode,expression:" mode === 'edit'"}],attrs:{type:"info"},on:{click:t.Update}},[t._v("\n        更新\n      ")])],1)],1)],1)},i=[],n=(r("4917"),r("7f7f"),r("e34b")),o=r("5f87"),s={filters:{statusFilter:function(t){var e={published:"success",draft:"gray"};return e[t]}},data:function(){return{list:[],listLength:0,fullList:[],localFile:[],listLoading:!0,pagesize:5,currpage:1,searchMap:{word:null},form:{id:"",position:"",name:"",avatar:"",orders:0,status:"published"},dialogFormVisible:!1,mode:"add",fileList:[],type:"aboutus_member",uploadURL:"/api/admin/file/upload?type=",headers:{"X-Token":Object(o["a"])()},staticPath:"http://127.0.0.5/app/views/store",rules:{position:[{required:!0,message:"請輸入服務項目!",trigger:"blur"},{max:64,message:"長度不能超過64個字!",trigger:"blur"}],name:[{required:!0,message:"請輸入標準!",trigger:"blur"},{max:256,message:"長度不能超過256個字!",trigger:"blur"}],avatar:[{required:!0,message:"請輸入或上傳頭像!",trigger:"change"},{max:256,message:"長度不能超過256個字!",trigger:"change"}]}}},watch:{"searchMap.word":{handler:function(){""!==this.searchMap.word&&null!==this.searchMap.word||this.Search()}}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0,Object(n["c"])().then((function(e){var r=null===e.data?[]:JSON.parse(JSON.stringify(e.data));t.list=r[0],t.fullList=r[0],t.localFile=r[1],t.listLoading=!1})).catch((function(e){alert(e),t.listLoading=!1}))},handleCurrentChange:function(t){this.currpage=t},handleSizeChange:function(t){this.pagesize=t},Search:function(){var t=this;this.listLoading=!0,null!==this.searchMap.name?this.list=this.fullList.filter((function(e){return e.position.match(t.searchMap.word)||e.name.match(t.searchMap.word)})):this.list=this.fullList,this.listLoading=!1},handleSuccess:function(t,e,r){this.form.avatar=t.data.path,this.fileList=r},handleRemove:function(t,e){var r=this,a={};a["file"]=this.form.avatar,Object(n["e"])(a).then((function(t){if(200===t.code){if("edit"===r.mode)for(var e=r.localFile.length,a=0;a<e;a++)r.localFile[a].path===r.form.avatar&&r.localFile.splice(a,1);r.form.avatar="",r.fileList=[]}}))},beforeRemove:function(t,e){return this.$confirm("do you really want to delete ".concat(t.name,"？"))},Switch:function(){this.dialogFormVisible?this.dialogFormVisible=!1:this.dialogFormVisible=!0},Add:function(){"edit"===this.mode&&(this.mode="add",this.form={id:"",position:"",name:"",avatar:"",status:"published"},this.fileList=[]),this.Switch()},Edit:function(t){var e=this;"add"===this.mode&&(this.mode="edit"),this.form={id:"",position:"",name:"",avatar:"",status:"published"},this.fileList=[],this.Switch();var r=this.list.filter((function(e){return parseInt(e.id)===parseInt(t)}))[0];this.form=JSON.parse(JSON.stringify(r));var a=this.localFile.filter((function(t){return t.path===e.form.avatar}))[0];a&&this.fileList.push(a)},Insert:function(){var t=this;this.$refs.form.validate((function(e){if(!e)return t.resError("請注意表單格式!"),!1;t.Switch(),Object(n["d"])(t.form).then((function(e){200===e.code?(t.resSuccess(e.message),t.form={id:"",position:"",name:"",avatar:"",status:"published"},t.fileList=[],t.fetchData()):t.resError(e.message)})).catch((function(t){alert(t)}))}))},Update:function(){var t=this;this.$refs.form.validate((function(e){if(!e)return t.resError("請注意表單格式!"),!1;t.Switch(),Object(n["g"])(t.form).then((function(e){200===e.code?(t.resSuccess(e.message),t.form={id:"",position:"",name:"",avatar:"",status:"published"},t.fileList=[],t.fetchData()):t.resError(e.message)})).catch((function(t){alert(t)}))}))},Delete:function(t){var e=this;this.$confirm("確定要刪除嗎？").then((function(){e.form=e.list.filter((function(e){return e.id===t}))[0],Object(n["a"])(e.form).then((function(t){200===t.code?(e.resSuccess(t.message),e.form={id:"",position:"",name:"",avatar:"",status:"published"},e.fileList=[],e.fetchData()):e.resError(t.message)}))})).catch((function(){}))},resSuccess:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.$notify({title:t,message:e,type:"success",duration:1500})},resError:function(t,e){this.$notify({title:t,message:e,type:"error",duration:1500})}}},l=s,c=r("2877"),u=Object(c["a"])(l,a,i,!1,null,null,null);e["default"]=u.exports},b0c5:function(t,e,r){"use strict";var a=r("520a");r("5ca1")({target:"RegExp",proto:!0,forced:a!==/./.exec},{exec:a})},e34b:function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"f",(function(){return n})),r.d(e,"c",(function(){return o})),r.d(e,"d",(function(){return s})),r.d(e,"g",(function(){return l})),r.d(e,"a",(function(){return c})),r.d(e,"e",(function(){return u}));var a=r("b775");function i(){return Object(a["a"])({url:"/admin/aboutus/intro/list",method:"get"})}function n(t){return Object(a["a"])({url:"/admin/aboutus/intro/update",method:"patch",data:t})}function o(){return Object(a["a"])({url:"/admin/aboutus/member/list",method:"get"})}function s(t){return Object(a["a"])({url:"/admin/aboutus/member/add",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/admin/aboutus/member/update",method:"patch",data:t})}function c(t){return Object(a["a"])({url:"/admin/aboutus/member/delete",method:"delete",data:t})}function u(t){return Object(a["a"])({url:"/admin/aboutus/member/file/remove",method:"delete",data:t})}}}]);